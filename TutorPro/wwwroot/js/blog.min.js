function sendRequest(n=null,t=1){var r=$(".filter-form__input").val();n!=null&&(r=n);var i=document.querySelector(".blog__block"),u=i.getAttribute("data-pageSize"),f=i.getAttribute("data-culture"),e=i.getAttribute("data-category");$.ajax({url:"/Umbraco/Api/Blog/GetBlogs",method:"GET",data:{searchText:r,culture:f,page:t,pageSize:u,category:e},success:function(n){updateContent(n)},error:function(n,t,i){console.error(i)}})}function updateContent(n){var t=document.querySelector(".blog__block"),u=t.getAttribute("data-culture"),i=t.getAttribute("data-border"),r;$(".blog__block").empty();n.blogs&&n.blogs.length>0?n.blogs.forEach(function(n){const t=new Date(n.dateTime),r=t.toLocaleDateString(`${u}`,{year:"numeric",month:"long",day:"numeric"});var f=i==="True"?" blog__item--with-border":"",e=i==="True"?"blog__item-date":"blog__item-date--relative",o=i==="True"?" blog__item-title--margin":"",s=`
                <a class="blog__item${f}" href="${n.url}">
                    ${n.imageUrl?`
                        <div class="blog__item-image">
                            <img loading="lazy" src="${n.imageUrl}" alt="Article image">
                        </div>
                    `:`
                        <div class="blog__item-image">
                            <img>
                        </div>
                    `}
                    ${n.title?`<p class="blog__item-title${o}">${n.title}</p>`:""}
                    <span class="${e}">${r}</span>
                </a>
            `;$(".blog__block").append(s)}):(t=document.querySelector(".blog__block"),r=t.getAttribute("data-notFoundMessage"),$(".blog__block").html(`<h1 style="width: 100%; text-align: center;">${r}</h1>`));updatePagination(n.totalPages,n.currentPage)}function updatePagination(n,t){var i,r,u;for($(".pagination__list").empty(),i=1;i<=n;i++)r=i===t?"active":"",u=`<li class="pagination__list-item"><a class="pagination__list-link ${r}" href="#">${i}</a></li>`,$(".pagination__list").append(u)}$(document).ready(function(){sendRequest();let n,t=document.querySelector("[data-searchDelay]"),i=t!=null?t.getAttribute("data-searchDelay"):0;$(".filter-form__input").on("input",function(){clearTimeout(n);var t=$(this).val();n=setTimeout(function(){sendRequest(t)},i)});$(".pagination__list").on("click",".pagination__list-link",function(n){n.preventDefault();var t=$(this).text();sendRequest(null,t)})});